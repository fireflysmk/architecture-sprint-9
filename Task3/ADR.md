### <a name="_b7urdng99y53"></a>**Название задачи:** task-3
### <a name="_hjk0fkfyohdk"></a>**Автор:** Кузнецов Антон
### <a name="_uanumrh8zrui"></a>**Дата:** 03.04.2025
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

| **№** |**Действующие лица или системы**|**Use Case**|**Описание**|
|:-----:| :- | :- | :- |
|   1   |Клиент → Сайт|Подача заявки на депозит|Клиент вводит ФИО и телефон, данные шифруются и передаются в CRM кол-центра|
2|	Кол-центр → АБС	| Обработка заявки менеджером |	Менеджер проверяет заявку в CRM, согласовывает ставку и передаёт в АБС|
3|	Клиент → Интернет-банк|	Подача заявки с SMS-подтверждением|	Клиент выбирает депозит, указывает счёт и сумму, подтверждает SMS|
4|	Интернет-банк → АБС (через API Gateway)|	Проверка баланса и ставок|	Запрос к АБС через промежуточный слой для избежания прямой нагрузки|
5|	АБС → СМС-шлюз|	Отправка уведомления клиенту|	После подтверждения депозита АБС инициирует SMS|
### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**
Опишите здесь нефункциональные требования и архитектурно-значимые требования.

|**№**|**Требование**|
| :-: | :- |
1|	Шифрование данных (TLS 1.2+ для веба, AES-256 для БД)|
2|	Доступность 99.9% (георезрвирование + балансировка +)|
3|  Время отклика интерфейсов < 500 мс (кэширование ставок, асинхронные вызовы)|
4|	Совместимость с текущим стеком (MS SQL, Oracle, .NET)|
### <a name="_qmphm5d6rvi3"></a>**Решение**
диаграммы контекста и контейнеров в модели C4:

[диаграмма контекста](./Context_Diagram.puml)  
[диаграмма контейнеров](./Container_Diagram.puml)  
[диаграмма компонентов (интернет-банк)](./Components_Diagramm.puml)  

- Промежуточный API Gateway выбран для изоляции АБС от прямой нагрузки  
- Кэширование ставок в интернет-банке — чтобы избежать частых запросов к АБС  
- RabbitMQ вместо Kafka для очередей (из-за ограничений текущего стека)  

### <a name="_bjrr7veeh80c"></a>**Альтернативы**


- Прямая интеграция интернет-банка с АБС: как результат получим упрощение архитектуры, но есть риск перегрузки АБС  
- Использование Kafka: получим более удобную микросервисную архитектуру, гибкую масштабируемость и управление, но у нас будет несовместимость с текущей версией интернет-банка


**Недостатки, ограничения, риски**

- Перегрузка АБС при пиковых нагрузках → требуется мониторинг и автоматическое масштабирование API Gateway  
- Задержки в кол-центре из-за ручной обработки → в будущем автоматизировать например через RPA  

